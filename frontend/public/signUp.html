<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NexusChat | Create Account</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        :root {
            --primary-color: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary-color: #7c3aed;
            --dark-color: #1e293b;
            --light-color: #f8fafc;
            --gray-color: #64748b;
            --gray-light: #e2e8f0;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
            --border-radius: 12px;
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
            --shadow-lg: 0 20px 40px rgba(0, 0, 0, 0.1);
            --gradient: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
            --gradient-success: linear-gradient(135deg, #10b981 0%, #34d399 100%);
        }

        body {
            background-color: #f1f5f9;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* Background animation */
        .bg-animation {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .node {
            position: absolute;
            width: 6px;
            height: 6px;
            background-color: var(--primary-color);
            border-radius: 50%;
            opacity: 0.2;
        }

        .connection {
            position: absolute;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
            opacity: 0.1;
            transform-origin: left center;
        }

        /* Main container */
        .container {
            display: flex;
            width: 100%;
            max-width: 1100px;
            min-height: 650px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            overflow: hidden;
        }

        /* Left side - Form */
        .form-section {
            flex: 1.2;
            padding: 50px 40px;
            display: flex;
            flex-direction: column;
        }

        .form-header {
            margin-bottom: 30px;
        }

        .logo {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--gradient);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
        }

        .logo-icon i {
            color: white;
            font-size: 20px;
        }

        .logo-text {
            font-size: 28px;
            font-weight: 700;
            letter-spacing: -0.5px;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .form-header h1 {
            font-size: 32px;
            color: var(--dark-color);
            margin-bottom: 8px;
            font-weight: 700;
        }

        .form-header p {
            color: var(--gray-color);
            font-size: 15px;
        }

        /* Form styles */
        .signup-form {
            flex: 1;
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            flex: 1;
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark-color);
            font-size: 14px;
        }

        .form-group label.required::after {
            content: " *";
            color: var(--error-color);
        }

        .input-with-icon {
            position: relative;
        }

        .input-with-icon i {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-color);
            font-size: 18px;
        }

        .form-control {
            width: 100%;
            padding: 16px 16px 16px 50px;
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: all 0.3s;
            background-color: #f8fafc;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            background-color: white;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .form-control.error {
            border-color: var(--error-color);
            background-color: rgba(239, 68, 68, 0.05);
        }

        .form-control.success {
            border-color: var(--success-color);
            background-color: rgba(16, 185, 129, 0.05);
        }

        .password-toggle {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--gray-color);
            cursor: pointer;
            font-size: 18px;
        }

        .validation-message {
            font-size: 13px;
            margin-top: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .validation-message.error {
            color: var(--error-color);
        }

        .validation-message.success {
            color: var(--success-color);
        }

        .validation-message i {
            font-size: 14px;
        }

        /* Password strength indicator */
        .password-strength {
            margin-top: 10px;
        }

        .strength-bar {
            height: 4px;
            background-color: var(--gray-light);
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .strength-fill {
            height: 100%;
            width: 0%;
            border-radius: 2px;
            transition: all 0.3s;
        }

        .strength-text {
            font-size: 12px;
            color: var(--gray-color);
        }

        /* Terms and conditions */
        .terms {
            margin: 25px 0;
            padding: 15px;
            background-color: #f8fafc;
            border-radius: var(--border-radius);
            border: 1px solid var(--gray-light);
        }

        .terms-content {
            max-height: 120px;
            overflow-y: auto;
            padding: 10px;
            margin-bottom: 15px;
            font-size: 13px;
            color: var(--gray-color);
            line-height: 1.5;
            background-color: white;
            border-radius: 8px;
        }

        .terms-checkbox {
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .terms-checkbox input {
            margin-top: 3px;
            width: 18px;
            height: 18px;
            accent-color: var(--primary-color);
        }

        .terms-checkbox label {
            font-size: 14px;
            color: var(--dark-color);
            line-height: 1.5;
        }

        .terms-checkbox a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
        }

        .terms-checkbox a:hover {
            text-decoration: underline;
        }

        /* Submit button */
        .signup-button {
            width: 100%;
            padding: 16px;
            background: var(--gradient);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
        }

        .signup-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(37, 99, 235, 0.25);
        }

        .signup-button:active {
            transform: translateY(0);
        }

        .signup-button:disabled {
            background: var(--gray-light);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .signup-button.success {
            background: var(--gradient-success);
        }

        /* Verification info */
        .verification-info {
            background-color: #f0f9ff;
            border: 1px solid #bae6fd;
            border-radius: var(--border-radius);
            padding: 20px;
            margin: 25px 0;
            display: none;
        }

        .verification-info h4 {
            color: #0369a1;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .verification-info p {
            color: #0c4a6e;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .verification-email {
            font-weight: 600;
            color: var(--primary-color);
            background-color: white;
            padding: 8px 12px;
            border-radius: 6px;
            display: inline-block;
            margin: 5px 0;
        }

        .resend-link {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            margin-top: 10px;
        }

        .resend-link:hover {
            text-decoration: underline;
        }

        .resend-link.disabled {
            color: var(--gray-color);
            cursor: not-allowed;
        }

        .countdown {
            font-size: 13px;
            color: var(--gray-color);
            margin-left: 5px;
        }

        /* Divider */
        .divider {
            display: flex;
            align-items: center;
            margin: 25px 0;
            color: var(--gray-color);
            font-size: 14px;
        }

        .divider::before,
        .divider::after {
            content: "";
            flex: 1;
            height: 1px;
            background-color: var(--gray-light);
        }

        .divider span {
            padding: 0 15px;
        }

        /* Social login */
        .social-login {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }

        .social-btn {
            flex: 1;
            padding: 14px;
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius);
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }

        .social-btn:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .social-btn.google {
            color: #ea4335;
        }

        .social-btn.github {
            color: #333;
        }

        .social-btn.linkedin {
            color: #0a66c2;
        }

        .social-btn i {
            font-size: 18px;
        }

        /* Login link */
        .login-link {
            text-align: center;
            margin-top: auto;
            color: var(--gray-color);
            font-size: 15px;
        }

        .login-link a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
        }

        .login-link a:hover {
            text-decoration: underline;
        }

        /* Messages */
        .message {
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            display: none;
        }

        .error-message {
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--error-color);
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        .success-message {
            background-color: rgba(16, 185, 129, 0.1);
            color: var(--success-color);
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .warning-message {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--warning-color);
            border: 1px solid rgba(245, 158, 11, 0.2);
        }

        .info-message {
            background-color: rgba(37, 99, 235, 0.1);
            color: var(--primary-color);
            border: 1px solid rgba(37, 99, 235, 0.2);
        }

        .message i {
            margin-right: 10px;
            font-size: 18px;
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
            vertical-align: middle;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Right side - Info */
        .info-section {
            flex: 1;
            background: var(--gradient);
            color: white;
            padding: 50px 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .info-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 400px;
            height: 400px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
        }

        .info-section::after {
            content: '';
            position: absolute;
            bottom: -30%;
            left: -10%;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 50%;
        }

        .info-content {
            position: relative;
            z-index: 2;
        }

        .info-content h2 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .info-content p {
            font-size: 16px;
            opacity: 0.9;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .features {
            list-style: none;
            margin: 30px 0;
        }

        .features li {
            display: flex;
            align-items: center;
            margin-bottom: 18px;
            font-size: 15px;
        }

        .features li i {
            margin-right: 12px;
            background-color: rgba(255, 255, 255, 0.2);
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
        }

        .system-architecture {
            margin-top: 30px;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .architecture-title {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 15px;
            opacity: 0.8;
        }

        .architecture-details {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }

        .architecture-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            padding: 8px 12px;
            background-color: rgba(255, 255, 255, 0.15);
            border-radius: 6px;
        }

        .architecture-item i {
            font-size: 12px;
        }

        /* Progress steps */
        .signup-progress {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
        }

        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .step-number {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--gray-light);
            color: var(--gray-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-bottom: 8px;
            transition: all 0.3s;
        }

        .progress-step.active .step-number {
            background: var(--gradient);
            color: white;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
        }

        .step-label {
            font-size: 12px;
            color: var(--gray-color);
            font-weight: 500;
        }

        .progress-step.active .step-label {
            color: var(--primary-color);
            font-weight: 600;
        }

        .progress-line {
            position: absolute;
            top: 18px;
            left: 10%;
            right: 10%;
            height: 2px;
            background-color: var(--gray-light);
            z-index: 1;
        }

        .progress-fill {
            position: absolute;
            top: 18px;
            left: 10%;
            width: 33.33%;
            height: 2px;
            background: var(--gradient);
            z-index: 1;
            transition: width 0.3s;
        }

        /* Responsive design */
        @media (max-width: 950px) {
            .container {
                flex-direction: column;
                max-width: 600px;
            }
            
            .info-section {
                padding: 40px 30px;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
        }

        @media (max-width: 480px) {
            .container {
                border-radius: 0;
                min-height: 100vh;
            }
            
            .form-section, .info-section {
                padding: 30px 20px;
            }
            
            .social-login {
                flex-direction: column;
            }
            
            .form-header h1 {
                font-size: 26px;
            }
        }
    </style>
</head>
<body>
    <!-- Background animation -->
    <div class="bg-animation" id="bgAnimation"></div>
    
    <!-- Main container -->
    <div class="container">
        <!-- Left side - Form -->
        <div class="form-section">
            <div class="form-header">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-network-wired"></i>
                    </div>
                    <div class="logo-text">NexusChat</div>
                </div>
                <h1>Create Your Account</h1>
                <p>Join our distributed messaging platform with enterprise-grade security</p>
            </div>
            
            <!-- Progress Steps -->
            <div class="signup-progress">
                <div class="progress-step active" id="step1">
                    <div class="step-number">1</div>
                    <div class="step-label">Personal Info</div>
                </div>
                <div class="progress-step" id="step2">
                    <div class="step-number">2</div>
                    <div class="step-label">Account Setup</div>
                </div>
                <div class="progress-step" id="step3">
                    <div class="step-number">3</div>
                    <div class="step-label">Verify Email</div>
                </div>
                <div class="progress-line"></div>
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <!-- Error Message -->
            <div class="message error-message" id="errorMessage">
                <i class="fas fa-exclamation-circle"></i>
                <span id="errorText">Please fill in all required fields</span>
            </div>
            
            <!-- Success Message -->
            <div class="message success-message" id="successMessage">
                <i class="fas fa-check-circle"></i>
                <span id="successText">Account created successfully! Check your email for verification.</span>
            </div>
            
            <!-- Warning Message -->
            <div class="message warning-message" id="warningMessage">
                <i class="fas fa-exclamation-triangle"></i>
                <span id="warningText">Please review the highlighted fields</span>
            </div>
            
            <!-- Info Message -->
            <div class="message info-message" id="infoMessage">
                <i class="fas fa-info-circle"></i>
                <span id="infoText">Verification email sent! Check your inbox.</span>
            </div>
            
            <!-- Step 1: Personal Information -->
            <form class="signup-form" id="signupForm">
                <div id="step1Form" class="form-step">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName" class="required">First Name</label>
                            <div class="input-with-icon">
                                <i class="fas fa-user"></i>
                                <input type="text" id="firstName" class="form-control" placeholder="Enter your first name">
                            </div>
                            <div class="validation-message" id="firstNameValidation"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="lastName" class="required">Last Name</label>
                            <div class="input-with-icon">
                                <i class="fas fa-user"></i>
                                <input type="text" id="lastName" class="form-control" placeholder="Enter your last name">
                            </div>
                            <div class="validation-message" id="lastNameValidation"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="email" class="required">Email Address</label>
                        <div class="input-with-icon">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="email" class="form-control" placeholder="Enter your email address">
                        </div>
                        <div class="validation-message" id="emailValidation">
                            <small>We'll send a verification link to this email</small>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="username" class="required">Username</label>
                        <div class="input-with-icon">
                            <i class="fas fa-at"></i>
                            <input type="text" id="username" class="form-control" placeholder="Choose a username">
                        </div>
                        <div class="validation-message" id="usernameValidation"></div>
                    </div>
                    
                    <button type="button" class="signup-button" id="nextStep1Button">Continue to Account Setup <i class="fas fa-arrow-right"></i></button>
                </div>
                
                <!-- Step 2: Account Setup -->
                <div id="step2Form" class="form-step" style="display: none;">
                    <div class="form-group">
                        <label for="password" class="required">Password</label>
                        <div class="input-with-icon">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="password" class="form-control" placeholder="Create a strong password">
                            <button type="button" class="password-toggle" id="passwordToggle">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="password-strength">
                            <div class="strength-bar">
                                <div class="strength-fill" id="strengthFill"></div>
                            </div>
                            <div class="strength-text" id="strengthText">Password strength: Very weak</div>
                        </div>
                        <div class="validation-message" id="passwordValidation"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="confirmPassword" class="required">Confirm Password</label>
                        <div class="input-with-icon">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="confirmPassword" class="form-control" placeholder="Confirm your password">
                            <button type="button" class="password-toggle" id="confirmPasswordToggle">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="validation-message" id="confirmPasswordValidation"></div>
                    </div>
                    
                    <div class="terms">
                        <div class="terms-content">
                            <h4>NexusChat Terms of Service</h4>
                            <p>By creating an account, you agree to our Terms of Service and Privacy Policy. NexusChat provides enterprise-grade distributed messaging with end-to-end encryption. Your messages are stored securely across our sharded database architecture with Redis caching for optimal performance.</p>
                            <p>You are responsible for maintaining the confidentiality of your account and password. You agree to accept responsibility for all activities that occur under your account.</p>
                            <p>NexusChat uses a distributed architecture with multiple WebSocket servers, Redis Pub/Sub for cross-server communication, and horizontal scaling capabilities. System performance data may be collected for optimization purposes.</p>
                        </div>
                        <div class="terms-checkbox">
                            <input type="checkbox" id="agreeTerms">
                            <label for="agreeTerms">I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>. I understand that NexusChat uses distributed systems architecture with data sharding across multiple databases.</label>
                        </div>
                        <div class="validation-message" id="termsValidation"></div>
                    </div>
                    
                    <div class="form-row">
                        <button type="button" class="signup-button" id="prevStep2Button"><i class="fas fa-arrow-left"></i> Back</button>
                        <button type="submit" class="signup-button" id="createAccountButton">Create Account</button>
                    </div>
                </div>
                
                <!-- Step 3: Email Verification -->
                <div id="step3Form" class="form-step" style="display: none;">
                    <div style="text-align: center; padding: 30px 20px;">
                        <div style="font-size: 80px; color: var(--primary-color); margin-bottom: 20px;">
                            <i class="fas fa-envelope-circle-check"></i>
                        </div>
                        <h2 style="color: var(--dark-color); margin-bottom: 15px;">Verify Your Email Address</h2>
                        <p style="color: var(--gray-color); margin-bottom: 25px; line-height: 1.6;">
                            We've sent a verification link to your email address. Please check your inbox and click the link to verify your account.
                        </p>
                        
                        <div class="verification-info" id="verificationInfo">
                            <h4><i class="fas fa-paper-plane"></i> Verification Email Sent</h4>
                            <p>We've sent an email to:</p>
                            <div class="verification-email" id="verificationEmail">user@example.com</div>
                            <p>Click the verification link in the email to activate your NexusChat account.</p>
                            
                            <div style="margin-top: 20px;">
                                <a href="#" class="resend-link" id="resendLink">
                                    <i class="fas fa-redo"></i> Resend verification email
                                </a>
                                <span class="countdown" id="countdown"></span>
                            </div>
                        </div>
                        
                        <div style="background-color: #f8fafc; padding: 20px; border-radius: var(--border-radius); margin: 25px 0; text-align: left;">
                            <h4 style="color: var(--dark-color); margin-bottom: 10px; font-size: 16px;"><i class="fas fa-lightbulb"></i> Didn't receive the email?</h4>
                            <ul style="color: var(--gray-color); padding-left: 20px; line-height: 1.8; font-size: 14px;">
                                <li>Check your spam or junk folder</li>
                                <li>Make sure you entered the correct email address</li>
                                <li>Wait a few minutes - email delivery can take 1-2 minutes</li>
                                <li>Click "Resend verification email" above</li>
                            </ul>
                        </div>
                        
                        <div style="margin-top: 30px;">
                            <button type="button" class="signup-button" id="continueToLoginButton">
                                <i class="fas fa-sign-in-alt"></i> Continue to Login
                            </button>
                            <p style="color: var(--gray-color); font-size: 14px; margin-top: 15px;">
                                Once verified, you can log in to access NexusChat.
                            </p>
                        </div>
                    </div>
                </div>
            </form>
            
            <div class="divider">
                <span>Or sign up with</span>
            </div>
            
            <div class="social-login">
                <button type="button" class="social-btn google">
                    <i class="fab fa-google"></i>
                    <span>Google</span>
                </button>
                <button type="button" class="social-btn github">
                    <i class="fab fa-github"></i>
                    <span>GitHub</span>
                </button>
                <button type="button" class="social-btn linkedin">
                    <i class="fab fa-linkedin"></i>
                    <span>LinkedIn</span>
                </button>
            </div>
            
            <div class="login-link">
                Already have an account? <a href="#" id="loginLink">Sign in here</a>
            </div>
        </div>
        
        <!-- Right side - Info -->
        <div class="info-section">
            <div class="info-content">
                <h2>Why Choose NexusChat?</h2>
                <p>Enterprise-grade distributed messaging platform built with horizontal scaling, Redis Pub/Sub, and sharded database architecture.</p>
                
                <ul class="features">
                    <li><i class="fas fa-server"></i> <strong>Horizontally Scalable:</strong> Add servers without downtime, handles 10K+ concurrent connections</li>
                    <li><i class="fas fa-bolt"></i> <strong>Real-time Performance:</strong> &lt;100ms message latency with WebSocket clusters</li>
                    <li><i class="fas fa-shield-alt"></i> <strong>End-to-End Encryption:</strong> Signal protocol implementation for maximum security</li>
                    <li><i class="fas fa-database"></i> <strong>Sharded Databases:</strong> PostgreSQL for users, MongoDB for messages, Redis for caching</li>
                    <li><i class="fas fa-exchange-alt"></i> <strong>Redis Pub/Sub:</strong> Cross-server communication with message deduplication</li>
                    <li><i class="fas fa-expand-arrows-alt"></i> <strong>Load Balanced:</strong> Nginx load balancing with sticky sessions</li>
                </ul>
                
                <div class="system-architecture">
                    <div class="architecture-title">Current System Status</div>
                    <div class="architecture-details">
                        <div class="architecture-item">
                            <i class="fas fa-circle" style="color: #10b981;"></i>
                            <span>5 Server Nodes Active</span>
                        </div>
                        <div class="architecture-item">
                            <i class="fas fa-circle" style="color: #10b981;"></i>
                            <span>Database Shard #3</span>
                        </div>
                        <div class="architecture-item">
                            <i class="fas fa-circle" style="color: #10b981;"></i>
                            <span>Redis Cluster Online</span>
                        </div>
                        <div class="architecture-item">
                            <i class="fas fa-circle" style="color: #10b981;"></i>
                            <span>Load Balancer Healthy</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Background animation
        function createBackgroundAnimation() {
            const bgAnimation = document.getElementById('bgAnimation');
            const nodeCount = 25;
            
            for (let i = 0; i < nodeCount; i++) {
                const node = document.createElement('div');
                node.className = 'node';
                node.style.left = `${Math.random() * 100}%`;
                node.style.top = `${Math.random() * 100}%`;
                node.style.width = `${Math.random() * 6 + 3}px`;
                node.style.height = node.style.width;
                node.style.backgroundColor = `rgba(37, 99, 235, ${Math.random() * 0.2 + 0.1})`;
                bgAnimation.appendChild(node);
                
                animateNode(node);
            }
            
            for (let i = 0; i < 15; i++) {
                const connection = document.createElement('div');
                connection.className = 'connection';
                
                const startX = Math.random() * 100;
                const startY = Math.random() * 100;
                const length = Math.random() * 100 + 50;
                const angle = Math.random() * Math.PI * 2;
                
                connection.style.left = `${startX}%`;
                connection.style.top = `${startY}%`;
                connection.style.width = `${length}px`;
                connection.style.transform = `rotate(${angle}rad)`;
                
                bgAnimation.appendChild(connection);
            }
        }
        
        function animateNode(node) {
            const startX = parseFloat(node.style.left);
            const startY = parseFloat(node.style.top);
            const speedX = (Math.random() - 0.5) * 0.05;
            const speedY = (Math.random() - 0.5) * 0.05;
            
            function move() {
                let x = parseFloat(node.style.left) + speedX;
                let y = parseFloat(node.style.top) + speedY;
                
                if (x < 0 || x > 100) x = startX;
                if (y < 0 || y > 100) y = startY;
                
                node.style.left = `${x}%`;
                node.style.top = `${y}%`;
                
                requestAnimationFrame(move);
            }
            
            move();
        }
        
        // Form state
        let currentStep = 1;
        let resendCooldown = 0;
        let resendTimer = null;
        const formData = {
            firstName: '',
            lastName: '',
            email: '',
            username: '',
            password: '',
            agreeTerms: false
        };
        
        // DOM Elements
        const step1Form = document.getElementById('step1Form');
        const step2Form = document.getElementById('step2Form');
        const step3Form = document.getElementById('step3Form');
        const progressFill = document.getElementById('progressFill');
        const verificationInfo = document.getElementById('verificationInfo');
        const verificationEmail = document.getElementById('verificationEmail');
        const resendLink = document.getElementById('resendLink');
        const countdown = document.getElementById('countdown');
        
        const step1Elements = document.querySelectorAll('#step1');
        const step2Elements = document.querySelectorAll('#step2');
        const step3Elements = document.querySelectorAll('#step3');
        
        const firstNameInput = document.getElementById('firstName');
        const lastNameInput = document.getElementById('lastName');
        const emailInput = document.getElementById('email');
        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const confirmPasswordInput = document.getElementById('confirmPassword');
        const agreeTermsCheckbox = document.getElementById('agreeTerms');
        
        const passwordToggle = document.getElementById('passwordToggle');
        const confirmPasswordToggle = document.getElementById('confirmPasswordToggle');
        
        const nextStep1Button = document.getElementById('nextStep1Button');
        const prevStep2Button = document.getElementById('prevStep2Button');
        const createAccountButton = document.getElementById('createAccountButton');
        const continueToLoginButton = document.getElementById('continueToLoginButton');
        const loginLink = document.getElementById('loginLink');
        
        // Strength indicator elements
        const strengthFill = document.getElementById('strengthFill');
        const strengthText = document.getElementById('strengthText');
        
        // Validation messages elements
        const firstNameValidation = document.getElementById('firstNameValidation');
        const lastNameValidation = document.getElementById('lastNameValidation');
        const emailValidation = document.getElementById('emailValidation');
        const usernameValidation = document.getElementById('usernameValidation');
        const passwordValidation = document.getElementById('passwordValidation');
        const confirmPasswordValidation = document.getElementById('confirmPasswordValidation');
        const termsValidation = document.getElementById('termsValidation');
        
        // Message elements
        const errorMessage = document.getElementById('errorMessage');
        const successMessage = document.getElementById('successMessage');
        const warningMessage = document.getElementById('warningMessage');
        const infoMessage = document.getElementById('infoMessage');
        
        // Password strength calculation
        function calculatePasswordStrength(password) {
            let strength = 0;
            
            // Length check
            if (password.length >= 8) strength += 20;
            if (password.length >= 12) strength += 10;
            
            // Character variety checks
            if (/[a-z]/.test(password)) strength += 20;
            if (/[A-Z]/.test(password)) strength += 20;
            if (/[0-9]/.test(password)) strength += 20;
            if (/[^a-zA-Z0-9]/.test(password)) strength += 10;
            
            // Ensure max 100
            strength = Math.min(strength, 100);
            
            return strength;
        }
        
        function updatePasswordStrength() {
            const password = passwordInput.value;
            const strength = calculatePasswordStrength(password);
            
            // Update visual indicator
            strengthFill.style.width = `${strength}%`;
            
            // Update color and text based on strength
            let color, text;
            if (strength < 30) {
                color = '#ef4444';
                text = 'Very weak';
            } else if (strength < 50) {
                color = '#f59e0b';
                text = 'Weak';
            } else if (strength < 75) {
                color = '#f59e0b';
                text = 'Fair';
            } else if (strength < 90) {
                color = '#10b981';
                text = 'Good';
            } else {
                color = '#10b981';
                text = 'Strong';
            }
            
            strengthFill.style.backgroundColor = color;
            strengthText.textContent = `Password strength: ${text}`;
            strengthText.style.color = color;
        }
        
        // Validation functions
        function validateFirstName() {
            const value = firstNameInput.value.trim();
            if (!value) {
                showValidationError(firstNameInput, firstNameValidation, 'First name is required');
                return false;
            }
            if (value.length < 2) {
                showValidationError(firstNameInput, firstNameValidation, 'First name must be at least 2 characters');
                return false;
            }
            showValidationSuccess(firstNameInput, firstNameValidation, 'First name looks good');
            return true;
        }
        
        function validateLastName() {
            const value = lastNameInput.value.trim();
            if (!value) {
                showValidationError(lastNameInput, lastNameValidation, 'Last name is required');
                return false;
            }
            showValidationSuccess(lastNameInput, lastNameValidation, 'Last name looks good');
            return true;
        }
        
        function validateEmail() {
            const value = emailInput.value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (!value) {
                showValidationError(emailInput, emailValidation, 'Email is required');
                return false;
            }
            if (!emailRegex.test(value)) {
                showValidationError(emailInput, emailValidation, 'Please enter a valid email address');
                return false;
            }
            showValidationSuccess(emailInput, emailValidation, 'Email address is valid');
            return true;
        }
        
        function validateUsername() {
            const value = usernameInput.value.trim();
            const usernameRegex = /^[a-zA-Z0-9_]{3,20}$/;
            
            if (!value) {
                showValidationError(usernameInput, usernameValidation, 'Username is required');
                return false;
            }
            if (value.length < 3) {
                showValidationError(usernameInput, usernameValidation, 'Username must be at least 3 characters');
                return false;
            }
            if (!usernameRegex.test(value)) {
                showValidationError(usernameInput, usernameValidation, 'Username can only contain letters, numbers, and underscores');
                return false;
            }
            
            // Simulate username availability check
            const takenUsernames = ['admin', 'john', 'jane', 'alex', 'test'];
            if (takenUsernames.includes(value.toLowerCase())) {
                showValidationError(usernameInput, usernameValidation, 'Username is already taken');
                return false;
            }
            
            showValidationSuccess(usernameInput, usernameValidation, 'Username is available');
            return true;
        }
        
        function validatePassword() {
            const value = passwordInput.value;
            
            if (!value) {
                showValidationError(passwordInput, passwordValidation, 'Password is required');
                return false;
            }
            if (value.length < 8) {
                showValidationError(passwordInput, passwordValidation, 'Password must be at least 8 characters');
                return false;
            }
            
            const strength = calculatePasswordStrength(value);
            if (strength < 50) {
                showValidationError(passwordInput, passwordValidation, 'Password is too weak');
                return false;
            }
            
            showValidationSuccess(passwordInput, passwordValidation, 'Password is strong enough');
            return true;
        }
        
        function validateConfirmPassword() {
            const value = confirmPasswordInput.value;
            const password = passwordInput.value;
            
            if (!value) {
                showValidationError(confirmPasswordInput, confirmPasswordValidation, 'Please confirm your password');
                return false;
            }
            if (value !== password) {
                showValidationError(confirmPasswordInput, confirmPasswordValidation, 'Passwords do not match');
                return false;
            }
            showValidationSuccess(confirmPasswordInput, confirmPasswordValidation, 'Passwords match');
            return true;
        }
        
        function validateTerms() {
            if (!agreeTermsCheckbox.checked) {
                showValidationError(null, termsValidation, 'You must agree to the terms and conditions');
                return false;
            }
            showValidationSuccess(null, termsValidation, 'Terms accepted');
            return true;
        }
        
        // Helper functions for validation UI
        function showValidationError(input, validationElement, message) {
            if (input) {
                input.classList.remove('success');
                input.classList.add('error');
            }
            validationElement.innerHTML = `<i class="fas fa-times-circle"></i> ${message}`;
            validationElement.classList.remove('success');
            validationElement.classList.add('error');
            return false;
        }
        
        function showValidationSuccess(input, validationElement, message) {
            if (input) {
                input.classList.remove('error');
                input.classList.add('success');
            }
            validationElement.innerHTML = `<i class="fas fa-check-circle"></i> ${message}`;
            validationElement.classList.remove('error');
            validationElement.classList.add('success');
            return true;
        }
        
        function clearValidation(input, validationElement) {
            if (input) {
                input.classList.remove('error', 'success');
            }
            validationElement.innerHTML = '';
            validationElement.classList.remove('error', 'success');
        }
        
        // Show/hide messages
        function showMessage(type, text) {
            // Hide all messages first
            errorMessage.style.display = 'none';
            successMessage.style.display = 'none';
            warningMessage.style.display = 'none';
            infoMessage.style.display = 'none';
            
            // Show the requested message
            if (type === 'error') {
                document.getElementById('errorText').textContent = text;
                errorMessage.style.display = 'flex';
            } else if (type === 'success') {
                document.getElementById('successText').textContent = text;
                successMessage.style.display = 'flex';
            } else if (type === 'warning') {
                document.getElementById('warningText').textContent = text;
                warningMessage.style.display = 'flex';
            } else if (type === 'info') {
                document.getElementById('infoText').textContent = text;
                infoMessage.style.display = 'flex';
            }
        }
        
        // Step navigation
        function goToStep(step) {
            // Hide all forms
            step1Form.style.display = 'none';
            step2Form.style.display = 'none';
            step3Form.style.display = 'none';
            
            // Update step indicators
            step1Elements.forEach(el => el.classList.remove('active'));
            step2Elements.forEach(el => el.classList.remove('active'));
            step3Elements.forEach(el => el.classList.remove('active'));
            
            // Update progress bar
            if (step === 1) {
                progressFill.style.width = '0%';
            } else if (step === 2) {
                progressFill.style.width = '50%';
            } else if (step === 3) {
                progressFill.style.width = '100%';
            }
            
            // Show current form and update indicators
            if (step === 1) {
                step1Form.style.display = 'block';
                step1Elements.forEach(el => el.classList.add('active'));
                currentStep = 1;
            } else if (step === 2) {
                step2Form.style.display = 'block';
                step2Elements.forEach(el => el.classList.add('active'));
                currentStep = 2;
            } else if (step === 3) {
                step3Form.style.display = 'block';
                step3Elements.forEach(el => el.classList.add('active'));
                currentStep = 3;
                
                // Show verification info
                verificationInfo.style.display = 'block';
                verificationEmail.textContent = formData.email;
                
                // Start resend cooldown
                startResendCooldown();
            }
        }
        
        // Save form data
        function saveFormData() {
            formData.firstName = firstNameInput.value.trim();
            formData.lastName = lastNameInput.value.trim();
            formData.email = emailInput.value.trim();
            formData.username = usernameInput.value.trim();
            formData.password = passwordInput.value;
            formData.agreeTerms = agreeTermsCheckbox.checked;
        }
        
        // Resend email functionality
        function startResendCooldown() {
            resendCooldown = 60; // 60 seconds cooldown
            resendLink.classList.add('disabled');
            updateResendCountdown();
            
            resendTimer = setInterval(() => {
                resendCooldown--;
                updateResendCountdown();
                
                if (resendCooldown <= 0) {
                    clearInterval(resendTimer);
                    resendLink.classList.remove('disabled');
                    countdown.textContent = '';
                }
            }, 1000);
        }
        
        function updateResendCountdown() {
            countdown.textContent = `(${resendCooldown}s)`;
        }
        
        // Simulate sending verification email
        function sendVerificationEmail() {
            showMessage('info', `Verification email sent to ${formData.email}. Check your inbox.`);
            
            // In a real application, this would make an API call to your backend
            // For demo purposes, we'll simulate the email sending
            console.log(`[DEMO] Verification email would be sent to: ${formData.email}`);
            console.log(`[DEMO] Email content: Verify your NexusChat account by clicking: http://localhost:3000/verify-email?token=DEMO_TOKEN_${formData.username}`);
            
            // Show success message
            setTimeout(() => {
                showMessage('success', 'Verification email sent successfully! Please check your inbox.');
            }, 1000);
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            createBackgroundAnimation();
            
            // Password visibility toggles
            passwordToggle.addEventListener('click', function() {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                this.innerHTML = type === 'password' ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
            });
            
            confirmPasswordToggle.addEventListener('click', function() {
                const type = confirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                confirmPasswordInput.setAttribute('type', type);
                this.innerHTML = type === 'password' ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
            });
            
            // Real-time validation
            firstNameInput.addEventListener('input', validateFirstName);
            lastNameInput.addEventListener('input', validateLastName);
            emailInput.addEventListener('input', validateEmail);
            usernameInput.addEventListener('input', validateUsername);
            passwordInput.addEventListener('input', function() {
                updatePasswordStrength();
                validatePassword();
                if (confirmPasswordInput.value) validateConfirmPassword();
            });
            confirmPasswordInput.addEventListener('input', validateConfirmPassword);
            agreeTermsCheckbox.addEventListener('change', validateTerms);
            
            // Step 1 to Step 2
            nextStep1Button.addEventListener('click', function() {
                // Validate step 1 fields
                const isFirstNameValid = validateFirstName();
                const isLastNameValid = validateLastName();
                const isEmailValid = validateEmail();
                const isUsernameValid = validateUsername();
                
                if (isFirstNameValid && isLastNameValid && isEmailValid && isUsernameValid) {
                    saveFormData();
                    goToStep(2);
                    showMessage('success', 'Personal information saved. Now set up your account.');
                } else {
                    showMessage('warning', 'Please fix the errors before continuing.');
                }
            });
            
            // Step 2 back to Step 1
            prevStep2Button.addEventListener('click', function() {
                goToStep(1);
            });
            
            // Form submission (Step 2)
            document.getElementById('signupForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validate all fields
                const isPasswordValid = validatePassword();
                const isConfirmPasswordValid = validateConfirmPassword();
                const isTermsValid = validateTerms();
                
                if (isPasswordValid && isConfirmPasswordValid && isTermsValid) {
                    saveFormData();
                    
                    // Show loading state
                    createAccountButton.disabled = true;
                    createAccountButton.innerHTML = '<div class="loading"></div> Creating Account...';
                    
                    // Simulate API call to backend
                    setTimeout(() => {
                        // Simulate account creation in backend
                        console.log(`[DEMO] Account created for: ${formData.username} (${formData.email})`);
                        console.log(`[DEMO] User data would be saved to PostgreSQL shard #${Math.floor(Math.random() * 5) + 1}`);
                        
                        // Simulate sending verification email via Nodemailer
                        sendVerificationEmail();
                        
                        // Move to verification step
                        goToStep(3);
                        
                        // Reset button state
                        createAccountButton.disabled = false;
                        createAccountButton.innerHTML = 'Create Account';
                        
                    }, 2000);
                } else {
                    showMessage('warning', 'Please fix the errors before creating your account.');
                }
            });
            
            // Resend verification email
            resendLink.addEventListener('click', function(e) {
                e.preventDefault();
                
                if (resendCooldown > 0) {
                    showMessage('warning', `Please wait ${resendCooldown} seconds before resending.`);
                    return;
                }
                
                // Show loading
                const originalText = resendLink.innerHTML;
                resendLink.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
                
                // Simulate resending email
                setTimeout(() => {
                    sendVerificationEmail();
                    resendLink.innerHTML = originalText;
                    startResendCooldown();
                }, 1000);
            });
            
            // Continue to login button
            continueToLoginButton.addEventListener('click', function() {
                alert(`DEMO: Email verification flow complete!\n\nIn a real application:\n1. User clicks verification link in email\n2. Backend verifies token with Nodemailer\n3. User is redirected to login page\n4. User can now log in with credentials\n\nTry logging in with:\nUsername: ${formData.username}\nPassword: ${formData.password}`);
                
                // Reset form for demo purposes
                setTimeout(() => {
                    document.getElementById('signupForm').reset();
                    goToStep(1);
                    
                    // Clear all validation messages
                    clearValidation(firstNameInput, firstNameValidation);
                    clearValidation(lastNameInput, lastNameValidation);
                    clearValidation(emailInput, emailValidation);
                    clearValidation(usernameInput, usernameValidation);
                    clearValidation(passwordInput, passwordValidation);
                    clearValidation(confirmPasswordInput, confirmPasswordValidation);
                    clearValidation(null, termsValidation);
                    
                    strengthFill.style.width = '0%';
                    strengthText.textContent = 'Password strength: Very weak';
                    strengthText.style.color = '';
                    
                    verificationInfo.style.display = 'none';
                    
                    showMessage('success', 'Demo complete! You can create another account to test the verification flow again.');
                }, 500);
            });
            
            // Login link
            loginLink.addEventListener('click', function(e) {
                e.preventDefault();
                alert('In a real application, this would redirect to the login page.');
            });
            
            // Social login buttons
            document.querySelectorAll('.social-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const provider = this.classList.contains('google') ? 'Google' : 
                                  this.classList.contains('github') ? 'GitHub' : 'LinkedIn';
                    showMessage('success', `${provider} OAuth authentication would be implemented in production.`);
                });
            });
            
            // Auto-fill demo data for presentation
            setTimeout(() => {
                if (!localStorage.getItem('signupDemoShown')) {
                    firstNameInput.value = 'John';
                    lastNameInput.value = 'Doe';
                    emailInput.value = 'john.doe@example.com';
                    usernameInput.value = 'johndoe';
                    passwordInput.value = 'NexusChat123!';
                    confirmPasswordInput.value = 'NexusChat123!';
                    agreeTermsCheckbox.checked = true;
                    
                    // Trigger validation
                    validateFirstName();
                    validateLastName();
                    validateEmail();
                    validateUsername();
                    updatePasswordStrength();
                    validatePassword();
                    validateConfirmPassword();
                    validateTerms();
                    
                    showMessage('info', 'Demo data auto-filled. You can proceed through the signup and email verification flow.');
                    localStorage.setItem('signupDemoShown', 'true');
                }
            }, 500);
        });
    </script>
</body>
</html>